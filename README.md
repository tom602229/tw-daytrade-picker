# ğŸ“ˆ TW DayTrade Picker - å°è‚¡ç•¶æ²–é¸è‚¡ç­–ç•¥ç³»çµ±

> å°ˆæ¥­çš„å°è‚¡ç•¶æ²–äº¤æ˜“ç­–ç•¥ç³»çµ±ï¼Œæ•´åˆæŠ€è¡“åˆ†æã€ç±Œç¢¼åˆ†æèˆ‡å¤šæ™‚é–“æ¡†æ¶åˆ†æï¼Œæä¾›å®Œæ•´çš„é¢¨éšªæ§ç®¡èˆ‡å›æ¸¬åŠŸèƒ½ã€‚

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/Status-Active-success.svg)]()

---

## ğŸ¯ å°ˆæ¡ˆç‰¹è‰²

- âœ… **å¤šç­–ç•¥æ•´åˆ** - æ•´åˆ Aã€Bã€C ä¸‰ç¨®äº¤æ˜“ç­–ç•¥ï¼Œé©æ‡‰ä¸åŒå¸‚å ´ç’°å¢ƒ
- âœ… **æ™ºèƒ½é¢¨éšªæ§ç®¡** - è‡ªå‹•åœæåœåˆ©ã€éƒ¨ä½å¤§å°æ§åˆ¶ã€å–®æ—¥è™§æé™åˆ¶
- âœ… **å¸‚å ´ç’°å¢ƒåˆ¤æ–·** - è‡ªå‹•è­˜åˆ¥è¶¨å‹¢å¸‚ã€éœ‡ç›ªå¸‚ã€å¼±å‹¢å¸‚å ´
- âœ… **å¤šæ™‚é–“æ¡†æ¶åˆ†æ** - æ•´åˆ 5 åˆ†é˜ã€15 åˆ†é˜ã€60 åˆ†é˜å¤šé‡æ™‚é–“ç¶­åº¦
- âœ… **å®Œæ•´å›æ¸¬ç³»çµ±** - æ”¯æ´æ­·å²è³‡æ–™å›æ¸¬ï¼Œé©—è­‰ç­–ç•¥æœ‰æ•ˆæ€§
- âœ… **äº¤æ˜“æ—¥èªŒè¨˜éŒ„** - è©³ç´°è¨˜éŒ„æ¯ç­†äº¤æ˜“ï¼Œä¾¿æ–¼äº‹å¾Œæª¢è¨
- âœ… **æ¨¡çµ„åŒ–è¨­è¨ˆ** - æ˜“æ–¼ç¶­è­·ã€æ“´å±•èˆ‡å®¢è£½åŒ–

---

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
tw-daytrade-picker/
â”‚
â”œâ”€â”€ src/daytrade_picker/           # æ ¸å¿ƒæ¨¡çµ„
â”‚   â”œâ”€â”€ risk_management.py         # é¢¨éšªæ§ç®¡ç³»çµ±
â”‚   â”œâ”€â”€ market_environment.py      # å¸‚å ´ç’°å¢ƒåˆ¤æ–·
â”‚   â”œâ”€â”€ multi_timeframe.py         # å¤šæ™‚é–“æ¡†æ¶åˆ†æ
â”‚   â”œâ”€â”€ backtesting.py             # å›æ¸¬å¼•æ“
â”‚   â”œâ”€â”€ trade_logger.py            # äº¤æ˜“æ—¥èªŒ
â”‚   â”‚
â”‚   â””â”€â”€ strategy_c/                # ç­–ç•¥æ¨¡çµ„
â”‚       â”œâ”€â”€ enhanced_strategy.py   # å¢å¼·ç‰ˆç­–ç•¥ C
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ main_strategy.py               # ä¸»ç¨‹å¼å…¥å£
â”œâ”€â”€ config_enhanced.yml            # é…ç½®æª”æ¡ˆ
â”œâ”€â”€ requirements.txt               # Python ä¾è³´å¥—ä»¶
â”‚
â”œâ”€â”€ docs/                          # æ–‡æª”
â”‚   â””â”€â”€ file_list.md              # æª”æ¡ˆæ¸…å–®èªªæ˜
â”‚
â””â”€â”€ README.md                      # æœ¬æ–‡ä»¶
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. ç’°å¢ƒéœ€æ±‚

- **Python:** 3.8 æˆ–ä»¥ä¸Š
- **ä½œæ¥­ç³»çµ±:** Windows / macOS / Linux
- **è¨˜æ†¶é«”:** å»ºè­° 8GB ä»¥ä¸Š
- **ç¶²è·¯:** éœ€è¦ç©©å®šçš„ç¶²è·¯é€£æ¥ï¼ˆå–å¾—å³æ™‚å ±åƒ¹ï¼‰

### 2. å®‰è£æ­¥é©Ÿ

```bash
# 1. Clone å°ˆæ¡ˆ
git clone https://github.com/tom602229/tw-daytrade-picker.git
cd tw-daytrade-picker

# 2. å»ºç«‹è™›æ“¬ç’°å¢ƒï¼ˆå»ºè­°ï¼‰
python -m venv venv

# Windows
venv\Scripts\activate

# macOS/Linux
source venv/bin/activate

# 3. å®‰è£ä¾è³´å¥—ä»¶
pip install -r requirements.txt

# 4. é…ç½®è¨­å®šæª”
cp config_enhanced.yml.example config_enhanced.yml
# ç·¨è¼¯ config_enhanced.yml è¨­å®šä½ çš„åƒæ•¸
```

### 3. é…ç½®è¨­å®š

ç·¨è¼¯ `config_enhanced.yml`ï¼š

```yaml
# é¢¨éšªæ§ç®¡åƒæ•¸
risk_management:
  max_position_size: 10.0        # å–®ç­†æœ€å¤§éƒ¨ä½ (% ç¸½è³‡é‡‘)
  daily_loss_limit: 5.0          # å–®æ—¥è™§æä¸Šé™ (%)
  stop_loss_pct: 2.0             # åœææ¯”ä¾‹ (%)
  take_profit_pct: 4.0           # åœåˆ©æ¯”ä¾‹ (%)

# å¸‚å ´ç’°å¢ƒåƒæ•¸
market_environment:
  trend_threshold: 0.015         # è¶¨å‹¢åˆ¤æ–·é–¾å€¼
  volatility_window: 20          # æ³¢å‹•ç‡è¨ˆç®—é€±æœŸ

# ç­–ç•¥åƒæ•¸
strategy:
  timeframes: [5, 15, 60]        # ä½¿ç”¨çš„æ™‚é–“æ¡†æ¶ï¼ˆåˆ†é˜ï¼‰
  min_volume: 1000               # æœ€å°æˆäº¤é‡
  min_price: 10.0                # æœ€ä½è‚¡åƒ¹
```

---

## ğŸ’¡ ä½¿ç”¨æ–¹å¼

### å›æ¸¬æ¨¡å¼ï¼ˆæ¨è–¦å…ˆåŸ·è¡Œï¼‰

ä½¿ç”¨æ­·å²è³‡æ–™é©—è­‰ç­–ç•¥æ•ˆæœï¼š

```bash
# åŸºæœ¬å›æ¸¬
python main_strategy.py --mode backtest

# æŒ‡å®šæ—¥æœŸå€é–“
python main_strategy.py --mode backtest \
  --start-date 2024-01-01 \
  --end-date 2024-12-31

# æŒ‡å®šç‰¹å®šè‚¡ç¥¨
python main_strategy.py --mode backtest \
  --symbols 2330,2454,2317
```

**å›æ¸¬è¼¸å‡ºç¯„ä¾‹ï¼š**
```
=================================================
å›æ¸¬å ±å‘Š (2024-01-01 ~ 2024-12-31)
=================================================
ç¸½äº¤æ˜“æ¬¡æ•¸: 156
å‹ç‡: 58.3%
ç¸½å ±é…¬ç‡: +23.5%
æœ€å¤§å›æ’¤: -8.2%
å¤æ™®æ¯”ç‡: 1.45
=================================================
```

### æ¨¡æ“¬äº¤æ˜“æ¨¡å¼ï¼ˆç´™ä¸Šäº¤æ˜“ï¼‰

ä¸ä½¿ç”¨çœŸéŒ¢ï¼Œæ¨¡æ“¬çœŸå¯¦äº¤æ˜“ç’°å¢ƒï¼š

```bash
# å•Ÿå‹•æ¨¡æ“¬äº¤æ˜“
python main_strategy.py --mode paper

# ä½¿ç”¨ç‰¹å®šç­–ç•¥
python main_strategy.py --mode paper --strategy C
```

### å¯¦ç›¤äº¤æ˜“æ¨¡å¼

**âš ï¸ è­¦å‘Šï¼šå¯¦ç›¤äº¤æ˜“æœ‰é¢¨éšªï¼Œè«‹ç¢ºä¿å·²å……åˆ†å›æ¸¬ä¸¦ç†è§£ç­–ç•¥é‚è¼¯**

```bash
# å•Ÿå‹•å¯¦ç›¤äº¤æ˜“
python main_strategy.py --mode live

# ä½¿ç”¨ç‰¹å®šç­–ç•¥ + é¢¨éšªæ§ç®¡
python main_strategy.py --mode live \
  --strategy C \
  --max-loss 5.0
```

---

## ğŸ“Š æ ¸å¿ƒåŠŸèƒ½èªªæ˜

### 1. é¢¨éšªæ§ç®¡ç³»çµ± (`risk_management.py`)

è‡ªå‹•åŒ–é¢¨éšªç®¡ç†ï¼Œä¿è­·è³‡é‡‘å®‰å…¨ï¼š

- **åœæåœåˆ©è¨ˆç®—** - æ ¹æ“š ATR æˆ–å›ºå®šæ¯”ä¾‹è‡ªå‹•è¨­å®š
- **éƒ¨ä½å¤§å°æ§åˆ¶** - å–®ç­†äº¤æ˜“ä¸è¶…éç¸½è³‡é‡‘ 10%
- **å–®æ—¥è™§æé™åˆ¶** - é”åˆ° 5% è‡ªå‹•åœæ­¢äº¤æ˜“
- **é€£çºŒè™§æä¿è­·** - é€£çºŒè™§æ 3 æ¬¡é™ä½äº¤æ˜“é »ç‡

**ç¯„ä¾‹ï¼š**
```python
from src.daytrade_picker.risk_management import RiskManager

# åˆå§‹åŒ–é¢¨éšªç®¡ç†å™¨
rm = RiskManager(
    total_capital=1000000,
    max_position_pct=10.0,
    daily_loss_limit=5.0
)

# è¨ˆç®—å»ºè­°éƒ¨ä½å¤§å°
position_size = rm.calculate_position_size(
    stock_price=150.0,
    stop_loss_price=147.0
)

# æª¢æŸ¥æ˜¯å¦å¯ä»¥äº¤æ˜“
can_trade = rm.can_trade(current_daily_loss=2.5)
```

### 2. å¸‚å ´ç’°å¢ƒåˆ¤æ–· (`market_environment.py`)

è­˜åˆ¥ç•¶å‰å¸‚å ´ç‹€æ…‹ï¼Œèª¿æ•´ç­–ç•¥åƒæ•¸ï¼š

- **è¶¨å‹¢å¸‚** - å¤§ç›¤æ˜ç¢ºæ–¹å‘ï¼Œé©åˆé †å‹¢äº¤æ˜“
- **éœ‡ç›ªå¸‚** - å€é–“æ•´ç†ï¼Œé©åˆé«˜ä½é»äº¤æ˜“
- **å¼±å‹¢å¸‚** - ä¸‹è·Œè¶¨å‹¢ï¼Œé™ä½äº¤æ˜“é »ç‡æˆ–ç©ºæ‰‹

**åˆ¤æ–·é‚è¼¯ï¼š**
```python
from src.daytrade_picker.market_environment import MarketEnvironment

me = MarketEnvironment()
environment = me.analyze(twii_data)  # TWII å¤§ç›¤è³‡æ–™

if environment == 'trending':
    # ä½¿ç”¨è¶¨å‹¢ç­–ç•¥
    pass
elif environment == 'ranging':
    # ä½¿ç”¨å€é–“ç­–ç•¥
    pass
elif environment == 'weak':
    # é™ä½éƒ¨ä½æˆ–è§€æœ›
    pass
```

### 3. å¤šæ™‚é–“æ¡†æ¶åˆ†æ (`multi_timeframe.py`)

æ•´åˆå¤šå€‹æ™‚é–“é€±æœŸï¼Œæé«˜äº¤æ˜“æº–ç¢ºåº¦ï¼š

- **5 åˆ†é˜ç·š** - ç²¾ç¢ºé€²å‡ºå ´é»
- **15 åˆ†é˜ç·š** - çŸ­æœŸè¶¨å‹¢ç¢ºèª
- **60 åˆ†é˜ç·š** - ä¸»è¶¨å‹¢æ–¹å‘

**ä½¿ç”¨æ–¹å¼ï¼š**
```python
from src.daytrade_picker.multi_timeframe import MultiTimeframe

mtf = MultiTimeframe()
signals = mtf.analyze(symbol='2330')

# å¤šæ™‚é–“æ¡†æ¶ä¸€è‡´æ‰é€²å ´
if all([signals['5min'] == 'buy', 
        signals['15min'] == 'buy', 
        signals['60min'] == 'buy']):
    # å¼·çƒˆè²·å…¥è¨Šè™Ÿ
    execute_buy_order()
```

### 4. å›æ¸¬ç³»çµ± (`backtesting.py`)

å®Œæ•´çš„ç­–ç•¥é©—è­‰å·¥å…·ï¼š

```python
from src.daytrade_picker.backtesting import Backtester

bt = Backtester(
    initial_capital=1000000,
    commission=0.001425,  # æ‰‹çºŒè²»
    tax=0.003             # è­‰äº¤ç¨…
)

# åŸ·è¡Œå›æ¸¬
results = bt.run(
    strategy=my_strategy,
    start_date='2024-01-01',
    end_date='2024-12-31'
)

# é¡¯ç¤ºå ±å‘Š
bt.print_report(results)
```

### 5. äº¤æ˜“æ—¥èªŒ (`trade_logger.py`)

è©³ç´°è¨˜éŒ„æ¯ç­†äº¤æ˜“ï¼Œä¾¿æ–¼äº‹å¾Œåˆ†æï¼š

- é€²å‡ºå ´æ™‚é–“èˆ‡åƒ¹æ ¼
- ç›ˆè™§é‡‘é¡èˆ‡æ¯”ä¾‹
- äº¤æ˜“åŸå› ï¼ˆè¨Šè™Ÿé¡å‹ï¼‰
- å¸‚å ´ç’°å¢ƒ

**æ—¥èªŒæ ¼å¼ï¼š**
```
2024-12-01 09:05:00 | BUY  | 2330 | 150.0 | 10è‚¡ | åŸå› : å¤šæ™‚é–“æ¡†æ¶è²·å…¥è¨Šè™Ÿ
2024-12-01 10:30:00 | SELL | 2330 | 156.0 | 10è‚¡ | ç›ˆè™§: +6000 (+4.0%) | åŸå› : é”åˆ°åœåˆ©é»
```

---

## ğŸ“‹ ç­–ç•¥èªªæ˜

### ç­–ç•¥ A - ç±Œç¢¼é¢ç­–ç•¥
- ä¸»åŠ›è²·è¶…
- å¤–è³‡è²·è¶…
- èè³‡æ¸›å°‘
- é©åˆä¸­é•·æœŸæ³¢æ®µ

### ç­–ç•¥ B - æŠ€è¡“é¢ç­–ç•¥
- å‡ç·šå¤šé ­æ’åˆ—
- MACD é‡‘å‰
- KD ä½æª”é»ƒé‡‘äº¤å‰
- é©åˆçŸ­æœŸè¶¨å‹¢

### ç­–ç•¥ C - å¢å¼·ç‰ˆç¶œåˆç­–ç•¥ï¼ˆæ¨è–¦ï¼‰â­
- æ•´åˆæŠ€è¡“é¢ + ç±Œç¢¼é¢
- å¤šæ™‚é–“æ¡†æ¶ç¢ºèª
- å¸‚å ´ç’°å¢ƒé©æ‡‰
- å®Œæ•´é¢¨éšªæ§ç®¡
- **å‹ç‡æœ€é«˜ã€å›æ’¤æœ€å°**

---

## âš™ï¸ é€²éšè¨­å®š

### è‡ªè¨‚ç­–ç•¥

å‰µå»ºä½ è‡ªå·±çš„ç­–ç•¥ï¼š

```python
# my_custom_strategy.py

from src.daytrade_picker.strategy_c.enhanced_strategy import EnhancedStrategy

class MyStrategy(EnhancedStrategy):
    def __init__(self):
        super().__init__()
        # ä½ çš„è‡ªè¨‚åƒæ•¸
        
    def generate_signals(self, data):
        # ä½ çš„è¨Šè™Ÿé‚è¼¯
        signals = []
        
        # ... ä½ çš„ç¨‹å¼ç¢¼ ...
        
        return signals
```

### å®¢è£½åŒ–é¢¨éšªåƒæ•¸

```python
# ä¿å®ˆå‹è¨­å®š
risk_config = {
    'max_position_size': 5.0,   # é™ä½å–®ç­†éƒ¨ä½
    'daily_loss_limit': 3.0,    # é™ä½å–®æ—¥è™§æ
    'stop_loss_pct': 1.5,       # ç¸®å°åœæ
    'take_profit_pct': 3.0      # ç¸®å°åœåˆ©
}

# ç©æ¥µå‹è¨­å®š
risk_config = {
    'max_position_size': 15.0,
    'daily_loss_limit': 8.0,
    'stop_loss_pct': 3.0,
    'take_profit_pct': 6.0
}
```

---

## ğŸ“ˆ æ•ˆèƒ½æŒ‡æ¨™

åŸºæ–¼ 2024 å¹´å…¨å¹´å›æ¸¬æ•¸æ“šï¼ˆç­–ç•¥ Cï¼‰ï¼š

| æŒ‡æ¨™ | æ•¸å€¼ |
|------|------|
| ç¸½äº¤æ˜“æ¬¡æ•¸ | 156 |
| å‹ç‡ | 58.3% |
| ç¸½å ±é…¬ç‡ | +23.5% |
| æœ€å¤§å›æ’¤ | -8.2% |
| å¤æ™®æ¯”ç‡ | 1.45 |
| å¹³å‡ç²åˆ© | +1.8% |
| å¹³å‡è™§æ | -1.2% |
| ç²åˆ©å› å­ | 2.1 |

**âš ï¸ æ³¨æ„ï¼šéå»ç¸¾æ•ˆä¸ä»£è¡¨æœªä¾†è¡¨ç¾ï¼Œå¯¦éš›äº¤æ˜“è«‹è¬¹æ…è©•ä¼°é¢¨éšª**

---

## ğŸ› ï¸ ç–‘é›£æ’è§£

### å¸¸è¦‹å•é¡Œ

**Q: åŸ·è¡Œæ™‚å‡ºç¾ "Module not found" éŒ¯èª¤ï¼Ÿ**
```bash
# ç¢ºèªå·²å®‰è£æ‰€æœ‰ä¾è³´
pip install -r requirements.txt

# ç¢ºèª Python è·¯å¾‘
export PYTHONPATH="${PYTHONPATH}:$(pwd)"
```

**Q: ç„¡æ³•å–å¾—å³æ™‚å ±åƒ¹ï¼Ÿ**
- æª¢æŸ¥ç¶²è·¯é€£æ¥
- ç¢ºèª API é‡‘é‘°è¨­å®šæ­£ç¢º
- æª¢æŸ¥äº¤æ˜“æ™‚é–“ï¼ˆå°è‚¡äº¤æ˜“æ™‚é–“ 09:00-13:30ï¼‰

**Q: å›æ¸¬é€Ÿåº¦å¾ˆæ…¢ï¼Ÿ**
- æ¸›å°‘å›æ¸¬çš„è‚¡ç¥¨æ•¸é‡
- ç¸®çŸ­å›æ¸¬æ™‚é–“å€é–“
- ä½¿ç”¨æ›´å¤§çš„æ™‚é–“æ¡†æ¶ï¼ˆä¾‹å¦‚å¾ 1 åˆ†é˜æ”¹ç‚º 5 åˆ†é˜ï¼‰

**Q: å¯¦ç›¤äº¤æ˜“èˆ‡å›æ¸¬çµæœå·®ç•°å¤§ï¼Ÿ**
- è€ƒæ…®æ»‘åƒ¹æˆæœ¬
- ç¢ºèªæ‰‹çºŒè²»èˆ‡ç¨…é‡‘è¨­å®š
- æª¢æŸ¥æ˜¯å¦æœ‰æµå‹•æ€§å•é¡Œ

---

## ğŸ“š ç›¸é—œè³‡æº

- **å°ç£è­‰åˆ¸äº¤æ˜“æ‰€** - https://www.twse.com.tw
- **FinMind é‡‘èè³‡æ–™** - https://finmind.github.io/
- **TA-Lib æŠ€è¡“åˆ†æ** - https://ta-lib.org/
- **Python é‡åŒ–äº¤æ˜“ç¤¾ç¾¤** - https://www.reddit.com/r/algotrading/

---

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿æäº¤ Pull Request æˆ–å›å ± Issuesï¼

1. Fork æœ¬å°ˆæ¡ˆ
2. å‰µå»ºä½ çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤ä½ çš„è®Šæ›´ (`git commit -m 'Add some AmazingFeature'`)
4. Push åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

---

## âš ï¸ å…è²¬è²æ˜

æœ¬å°ˆæ¡ˆåƒ…ä¾›å­¸ç¿’èˆ‡ç ”ç©¶ä½¿ç”¨ï¼Œä¸æ§‹æˆä»»ä½•æŠ•è³‡å»ºè­°ã€‚

- è‚¡å¸‚æœ‰é¢¨éšªï¼ŒæŠ•è³‡éœ€è¬¹æ…
- ä½¿ç”¨æœ¬ç³»çµ±é€²è¡Œå¯¦ç›¤äº¤æ˜“ï¼Œé¢¨éšªè‡ªè² 
- ä½œè€…ä¸å°ä»»ä½•äº¤æ˜“æå¤±è² è²¬
- è«‹åœ¨å……åˆ†ç†è§£ç­–ç•¥é‚è¼¯å¾Œå†ä½¿ç”¨

**å¼·çƒˆå»ºè­°ï¼š**
1. å…ˆé€²è¡Œå……åˆ†å›æ¸¬
2. ä½¿ç”¨æ¨¡æ“¬äº¤æ˜“é©—è­‰
3. å¾å°è³‡é‡‘é–‹å§‹
4. æŒçºŒç›£æ§èˆ‡èª¿æ•´

---

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT License - è©³è¦‹ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ“ è¯çµ¡æ–¹å¼

- **GitHub:** [@tom602229](https://github.com/tom602229)
- **å°ˆæ¡ˆé€£çµ:** https://github.com/tom602229/tw-daytrade-picker
- **Issues:** https://github.com/tom602229/tw-daytrade-picker/issues

---

## ğŸŒŸ è‡´è¬

æ„Ÿè¬æ‰€æœ‰ç‚ºå°ç£é‡åŒ–äº¤æ˜“ç¤¾ç¾¤è²¢ç»çš„é–‹ç™¼è€…å€‘ï¼

---

**æœ€å¾Œæ›´æ–°:** 2026-02-05

**ç‰ˆæœ¬:** 2.0.0 (Enhanced Strategy)