# 台股當沖選股系統 Taiwan Stock Day Trading Picker

🚀 自動化台股當沖選股分析系統，每日自動抓取台灣證交所資料、執行技術分析、計算目標價與停損價，並生成分析報告。

## ✨ 功能特色

- **自動資料抓取**: 每日從台灣證交所抓取股價、成交量、法人買賣等資料
- **智能篩選**: 基於振幅、成交量、法人動向等多項指標進行評分
- **目標價計算**: 使用 ATR (平均真實波幅) 計算目標價與停損價
- **風險管理**: 提供風險報酬比分析，固定 1:2 比例
- **郵件通知**: 每日自動發送分析報告到指定信箱
- **完全自動化**: 設定後無需人工介入，每個交易日自動執行

## 📋 系統需求

- Python 3.8+
- 必要套件：pandas, numpy, requests

```bash
pip install pandas numpy requests
```

## 🚀 快速開始

### 1. 手動執行分析

```bash
python daily_analysis.py
```

執行後會自動：
1. 抓取最近 10 個交易日的資料
2. 分析並篩選出 TOP 50 潛力股
3. 計算目標價與停損價
4. 生成分析報告

### 2. 自動化排程

系統已設定每個交易日下午 3:00 自動執行（台北時間）

- **排程**: 週一至週五 15:00
- **執行內容**: 完整分析流程
- **輸出**: CSV 檔案 + 文字報告 + 郵件通知

## 📊 輸出檔案

### 資料檔案 (data/daily/)
- `prices_YYYY-MM-DD.csv` - 每日股價資料
- `market_YYYY-MM-DD.csv` - 市場統計資料
- `institution_YYYY-MM-DD.csv` - 法人買賣資料

### 分析結果 (analysis/)
- `daytrade_targets_YYYY-MM-DD.csv` - 完整 50 檔分析結果
- `report_YYYY-MM-DD.txt` - 文字摘要報告

## 📈 分析邏輯

### 篩選條件
- 股價範圍: 10-200 元
- 成交量: >= 1000 張
- 排除非一般股票

### 評分系統 (總分 100 分)

**基礎分 50 分**

**振幅加分 (0-15 分)**
- 振幅 >= 5%: +15 分
- 振幅 >= 3%: +10 分
- 振幅 >= 2%: +5 分

**成交量加分 (0-15 分)**
- 成交量 >= 10,000 張: +15 分
- 成交量 >= 5,000 張: +10 分
- 成交量 >= 2,000 張: +5 分

**法人動向 (±20 分)**
- 外資買超 > 500 張 或 投信買超 > 100 張: +20 分
- 外資買超 > 100 張 或 投信買超 > 50 張: +10 分
- 外資賣超 > 500 張 或 投信賣超 > 100 張: -10 分

### 目標價與停損價

使用 **ATR (平均真實波幅)** 計算：

- **做多策略**
  - 目標價 = 收盤價 + 2 × ATR
  - 停損價 = 收盤價 - 1 × ATR
  
- **做空策略**
  - 目標價 = 收盤價 - 2 × ATR
  - 停損價 = 收盤價 + 1 × ATR

風險報酬比固定為 **1:2**

### 訊號判斷

- **做多**: 漲幅 > 1% 且外資買超
- **做空**: 跌幅 > 1% 且外資賣超
- **觀望**: 其他情況

## 📧 郵件通知設定

每日報告自動發送至: sdasd777756@gmail.com

包含內容：
- TOP 5 推薦標的
- 訊號統計（做多/做空/觀望數量）
- 風險提醒
- 完整 50 檔分析 CSV 附件

## 💡 使用建議

### 進場時機
- 等待開盤後 15-30 分鐘觀察盤勢
- 確認符合預期走勢後再進場
- 避免在開盤或尾盤過度交易

### 風險控管
- ⚠️ **嚴格遵守停損價，不要心存僥倖**
- 單筆投入不超過總資金 10-20%
- 設定明確的獲利目標與停損點
- 密切關注盤中走勢變化

### 進階分析
- 搭配其他技術指標（RSI, MACD, KD）
- 參考基本面資訊（營收、EPS）
- 注意產業趨勢與市場消息
- 追蹤歷史績效並優化策略

## 📁 專案結構

```
tw-daytrade-picker/
├── daily_analysis.py          # 主要分析腳本
├── data/
│   └── daily/                 # 每日資料
│       ├── prices_*.csv
│       ├── market_*.csv
│       └── institution_*.csv
├── analysis/                  # 分析結果
│   ├── daytrade_targets_*.csv
│   └── report_*.txt
└── README.md
```

## ⚠️ 免責聲明

本系統僅供學習與研究使用，不構成任何投資建議。

- 所有分析結果僅供參考
- 投資有風險，請謹慎評估自身風險承受能力
- 過去績效不代表未來表現
- 使用本系統進行交易所產生的損益，使用者需自行負責

## 🔄 更新日誌

### v1.0.0 (2026-02-05)
- ✅ 整合資料抓取、分析、報告生成流程
- ✅ 新增 ATR 目標價與停損價計算
- ✅ 新增郵件通知功能
- ✅ 設定每日自動執行排程

## 📞 聯絡資訊

如有問題或建議，歡迎透過 GitHub Issues 回報。

---

**Made with ❤️ by Nebula AI**
