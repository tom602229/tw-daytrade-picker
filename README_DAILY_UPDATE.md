# å°è‚¡ç•¶æ²–é¸è‚¡ç³»çµ± - æ¯æ—¥è‡ªå‹•æ›´æ–°æŒ‡å—

## ğŸ“‹ å¿«é€Ÿé–‹å§‹

### æ–¹æ³• 1ï¼šæ‰‹å‹•åŸ·è¡Œæ¯æ—¥æ›´æ–°

```bash
cd code/tw-daytrade-picker
python daily_update.py
```

é€™å€‹è…³æœ¬æœƒè‡ªå‹•ï¼š
1. âœ… æŠ“å–æœ€æ–°äº¤æ˜“æ—¥çš„è‚¡ç¥¨è³‡æ–™ï¼ˆä¸Šå¸‚ + ä¸Šæ«ƒï¼‰
2. âœ… æŠ“å–ä¸‰å¤§æ³•äººè²·è³£è¶…è³‡æ–™
3. âœ… åŸ·è¡Œç­–ç•¥ C åˆ†æ
4. âœ… ç”Ÿæˆå€™é¸è‚¡æ¸…å–®
5. âœ… è‡ªå‹•æ¸…ç†è¶…é 30 å¤©çš„èˆŠè³‡æ–™

### æ–¹æ³• 2ï¼šè¨­å®šè‡ªå‹•æ’ç¨‹ï¼ˆæ¨è–¦ï¼‰

**Linux/Mac ä½¿ç”¨ cron:**

```bash
# æŸ¥çœ‹è¨­å®šèªªæ˜
bash setup_cron.sh

# ç·¨è¼¯ crontab
crontab -e

# åŠ å…¥ä»¥ä¸‹å…§å®¹ï¼ˆæ¯å¤©ä¸‹åˆ 6:00 åŸ·è¡Œï¼‰
0 18 * * * cd /path/to/tw-daytrade-picker && python3 daily_update.py >> logs/daily_$(date +\%Y\%m\%d).log 2>&1
```

**Windows ä½¿ç”¨å·¥ä½œæ’ç¨‹å™¨:**

1. é–‹å•Ÿã€Œå·¥ä½œæ’ç¨‹å™¨ã€
2. å»ºç«‹åŸºæœ¬å·¥ä½œ
3. è§¸ç™¼ç¨‹åºï¼šæ¯å¤©ä¸‹åˆ 6:00
4. å‹•ä½œï¼šå•Ÿå‹•ç¨‹å¼
   - ç¨‹å¼ï¼š`python.exe`
   - å¼•æ•¸ï¼š`daily_update.py`
   - èµ·å§‹æ–¼ï¼š`C:\path\to\tw-daytrade-picker`

---

## ğŸ“Š æŸ¥çœ‹ä»Šæ—¥å€™é¸è‚¡ç¥¨

### å¿«é€ŸæŸ¥çœ‹ CSV

```bash
# æŸ¥çœ‹æœ€æ–°çš„å€™é¸è‚¡æ¸…å–®
ls -lt DayTradePicker_Results/strategyC_candidates_*.csv | head -1

# ç”¨ Excel æˆ–è©¦ç®—è¡¨é–‹å•Ÿ
```

### ä½¿ç”¨ Python åˆ†æ

```python
import pandas as pd
from datetime import date

today = date.today()
df = pd.read_csv(f'DayTradePicker_Results/strategyC_candidates_{today}.csv')

# æŸ¥çœ‹ Top 10 é«˜åˆ†è‚¡ç¥¨
print(df.nlargest(10, 'score_total')[['stock_id', 'stock_name', 'score_total', 'suggest_entry']])
```

---

## ğŸ—‚ï¸ ç›®éŒ„çµæ§‹

```
tw-daytrade-picker/
â”œâ”€â”€ daily_update.py          # æ¯æ—¥è‡ªå‹•æ›´æ–°ä¸»è…³æœ¬
â”œâ”€â”€ setup_cron.sh            # cron è¨­å®šè¼”åŠ©è…³æœ¬
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ daily/               # æ¯æ—¥è³‡æ–™ï¼ˆè‡ªå‹•æ¸…ç† 30 å¤©å‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ prices_2026-02-05.csv
â”‚   â”‚   â””â”€â”€ institution_2026-02-05.csv
â”‚   â””â”€â”€ historical/          # æ­·å²è³‡æ–™ï¼ˆæ°¸ä¹…ä¿ç•™ï¼‰
â”œâ”€â”€ DayTradePicker_Results/  # åˆ†æçµæœ
â”‚   â”œâ”€â”€ strategyC_candidates_2026-02-05.csv
â”‚   â””â”€â”€ strategyC_candidates_2026-02-05.xlsx
â”œâ”€â”€ reports/                 # å ±å‘Š
â”‚   â””â”€â”€ report_2026-02-05.md
â””â”€â”€ logs/                    # åŸ·è¡Œæ—¥èªŒ
    â””â”€â”€ daily_20260205.log
```

---

## â° åŸ·è¡Œæ™‚é–“å»ºè­°

å°è‚¡ç›¤å¾Œè³‡æ–™å…¬å¸ƒæ™‚é–“ï¼š
- **åƒ¹æ ¼è³‡æ–™**ï¼šä¸‹åˆ 5:00 - 6:00
- **æ³•äººè³‡æ–™**ï¼šä¸‹åˆ 5:30 - 6:30

**å»ºè­°åŸ·è¡Œæ™‚é–“ï¼š**
- âœ… **ä¸‹åˆ 6:00**ï¼ˆå¹³è¡¡æ™‚é–“ï¼Œè³‡æ–™é€šå¸¸å·²å…¬å¸ƒï¼‰
- âš¡ ä¸‹åˆ 5:30ï¼ˆææ—©ï¼Œä½†å¯èƒ½è³‡æ–™æœªé½Šï¼‰
- ğŸ›¡ï¸ ä¸‹åˆ 7:00ï¼ˆä¿å®ˆï¼Œç¢ºä¿è³‡æ–™å®Œæ•´ï¼‰

**é€±æœ«è™•ç†ï¼š**
è…³æœ¬æœƒè‡ªå‹•åˆ¤æ–·å‡æ—¥ï¼Œé€±å…­åŸ·è¡Œæ™‚æœƒæŠ“å–é€±äº”çš„è³‡æ–™ã€‚

---

## ğŸ”§ é€²éšè¨­å®š

### ä¿®æ”¹è³‡æ–™ä¿ç•™å¤©æ•¸

ç·¨è¼¯ `daily_update.py`ï¼š

```python
# é è¨­ä¿ç•™ 30 å¤©ï¼Œå¯æ”¹ç‚º 60 å¤©
cleanup_old_data(days_to_keep=60)
```

### èª¿æ•´ç­–ç•¥åƒæ•¸

ç·¨è¼¯ `config/config_enhanced_v2.yml`ï¼š

```yaml
risk_management:
  initial_capital: 1000000      # åˆå§‹è³‡é‡‘
  max_position_pct: 0.2         # å–®ç­†æœ€å¤§æŠ•è³‡æ¯”ä¾‹
  max_daily_loss_pct: 0.02      # å–®æ—¥æœ€å¤§è™§æ
  stop_loss_atr_multiplier: 2.0 # åœæå€æ•¸
```

### åªæŠ“å–è³‡æ–™ä¸åŸ·è¡Œåˆ†æ

```python
# ä¿®æ”¹ daily_update.py çš„ main() å‡½æ•¸
# è¨»è§£æ‰ä»¥ä¸‹è¡Œï¼š
# strategy_success = run_strategy_c(target_date)
```

---

## ğŸ“ˆ è³‡æ–™ä¾†æº

- **è­‰äº¤æ‰€ (TWSE)**: ä¸Šå¸‚è‚¡ç¥¨åƒ¹æ ¼ã€æ³•äººè²·è³£è¶…
- **æ«ƒè²·ä¸­å¿ƒ (TPEX)**: ä¸Šæ«ƒè‚¡ç¥¨åƒ¹æ ¼ã€æ³•äººè²·è³£è¶…

è³‡æ–™æ›´æ–°é »ç‡ï¼šæ¯å€‹äº¤æ˜“æ—¥

---

## â“ å¸¸è¦‹å•é¡Œ

### Q: åŸ·è¡Œå¾Œé¡¯ç¤ºã€Œç„¡è³‡æ–™ã€ï¼Ÿ

**A:** å¯èƒ½åŸå› ï¼š
1. ä»Šå¤©æ˜¯å‡æ—¥æˆ–éäº¤æ˜“æ—¥
2. åŸ·è¡Œæ™‚é–“å¤ªæ—©ï¼Œç›¤å¾Œè³‡æ–™å°šæœªå…¬å¸ƒï¼ˆå»ºè­°ä¸‹åˆ 6:00 å¾Œï¼‰
3. è­‰äº¤æ‰€/æ«ƒè²·ä¸­å¿ƒç¶²ç«™ç¶­è­·

### Q: ä¸Šæ«ƒè‚¡ç¥¨è³‡æ–™ç‚º 0ï¼Ÿ

**A:** é€™æ˜¯æ­£å¸¸çš„ï¼Œæœ‰æ™‚å€™æ«ƒè²·ä¸­å¿ƒè³‡æ–™æœƒå»¶é²å…¬å¸ƒã€‚è…³æœ¬æœƒç¹¼çºŒåŸ·è¡Œï¼Œåªä½¿ç”¨ä¸Šå¸‚è‚¡ç¥¨è³‡æ–™ã€‚

### Q: å¦‚ä½•æŸ¥çœ‹åŸ·è¡Œæ—¥èªŒï¼Ÿ

**A:** æ—¥èªŒæª”æ¡ˆä½æ–¼ `logs/daily_YYYYMMDD.log`

```bash
# æŸ¥çœ‹ä»Šå¤©çš„æ—¥èªŒ
tail -f logs/daily_$(date +%Y%m%d).log
```

### Q: æƒ³è¦å›æ¸¬æ­·å²è³‡æ–™ï¼Ÿ

**A:** ä½¿ç”¨å…§å»ºçš„ demo æ¨¡å¼ï¼š

```bash
python -m daytrade_picker demo-strategy-c
```

---

## ğŸš€ å®Œæ•´å·¥ä½œæµç¨‹ç¯„ä¾‹

```bash
# 1. æ¯å¤©ä¸‹åˆ 6:00 è‡ªå‹•åŸ·è¡Œ
# ï¼ˆé€é cron æˆ–å·¥ä½œæ’ç¨‹å™¨ï¼‰

# 2. è…³æœ¬è‡ªå‹•å®Œæˆï¼š
#    - æŠ“å–è³‡æ–™
#    - åŸ·è¡Œåˆ†æ
#    - ç”Ÿæˆå ±å‘Š

# 3. æ—©ä¸ŠæŸ¥çœ‹çµæœ
cd code/tw-daytrade-picker
python -c "
import pandas as pd
from datetime import date

df = pd.read_csv(f'DayTradePicker_Results/strategyC_candidates_{date.today()}.csv')
top10 = df.nlargest(10, 'score_total')
print('ä»Šæ—¥ Top 10 å€™é¸è‚¡ç¥¨:')
print(top10[['stock_id', 'stock_name', 'score_total', 'suggest_entry']])
"

# 4. é–‹ç›¤å‰æº–å‚™ï¼Œç›¤ä¸­åŸ·è¡Œ
```

---

## ğŸ“ éœ€è¦å¹«åŠ©ï¼Ÿ

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹æª¢æŸ¥ï¼š
1. åŸ·è¡Œæ—¥èªŒ `logs/` ç›®éŒ„
2. è¨­å®šæª” `config/config_enhanced_v2.yml`
3. è³‡æ–™æª”æ¡ˆæ˜¯å¦æ­£å¸¸ç”¢ç”Ÿ

---

**æœ€å¾Œæ›´æ–°**: 2026-02-05
**ç‰ˆæœ¬**: 1.0.0
